<page-wrapper>
<div class="container">
  <h2 class="title">ğŸ“˜ Your Life Story</h2>

  <div *ngIf="story && !isEditing" class="card">
    <p class="preview">{{ showFull ? story : (story | slice:0:300) + '...' }}</p>

    <div class="buttons">
      <button (click)="toggleFull()">
        {{ showFull ? 'ğŸ”½ Collapse' : 'ğŸ” View Full Story' }}
      </button>
      <button (click)="startEdit()">âœï¸ Edit</button>
      <button (click)="deleteStory()">âŒ Delete</button>
    </div>
  </div>

  <div *ngIf="!story && !isEditing" class="card">
    <p>No life story saved yet.</p>
    <button (click)="startEdit()">â• Add One</button>
  </div>

  <div *ngIf="isEditing" class="card">
    <textarea [(ngModel)]="editedStory" rows="6" placeholder="Write your background, thoughts, and life events..."></textarea>

    <div class="buttons">
      <button (click)="saveStory()">ğŸ’¾ Save</button>
      <button (click)="cancelEdit()">âŒ Cancel</button>
    </div>
  </div>

  <div *ngIf="status" class="status">{{ status }}</div>
</div>
</page-wrapper>